// This file was auto-generated by WebIDLToSwift. DO NOT EDIT!

import JavaScriptEventLoop
import JavaScriptKit

public class XMLHttpRequest: XMLHttpRequestEventTarget {
    override public class var constructor: JSFunction { JSObject.global.XMLHttpRequest.function! }

    public required init(unsafelyWrapping jsObject: JSObject) {
        _onreadystatechange = ClosureAttribute.Optional1(jsObject: jsObject, name: "onreadystatechange")
        _readyState = ReadonlyAttribute(jsObject: jsObject, name: "readyState")
        _timeout = ReadWriteAttribute(jsObject: jsObject, name: "timeout")
        _withCredentials = ReadWriteAttribute(jsObject: jsObject, name: "withCredentials")
        _upload = ReadonlyAttribute(jsObject: jsObject, name: "upload")
        _responseURL = ReadonlyAttribute(jsObject: jsObject, name: "responseURL")
        _status = ReadonlyAttribute(jsObject: jsObject, name: "status")
        _statusText = ReadonlyAttribute(jsObject: jsObject, name: "statusText")
        _responseType = ReadWriteAttribute(jsObject: jsObject, name: "responseType")
        _response = ReadonlyAttribute(jsObject: jsObject, name: "response")
        _responseText = ReadonlyAttribute(jsObject: jsObject, name: "responseText")
        _responseXML = ReadonlyAttribute(jsObject: jsObject, name: "responseXML")
        super.init(unsafelyWrapping: jsObject)
    }

    public convenience init() {
        self.init(unsafelyWrapping: Self.constructor.new())
    }

    @ClosureAttribute.Optional1
    public var onreadystatechange: EventHandler

    public static let UNSENT: UInt16 = 0

    public static let OPENED: UInt16 = 1

    public static let HEADERS_RECEIVED: UInt16 = 2

    public static let LOADING: UInt16 = 3

    public static let DONE: UInt16 = 4

    @ReadonlyAttribute
    public var readyState: UInt16

    public func open(method: String, url: String) {
        _ = jsObject["open"]!(method.jsValue(), url.jsValue())
    }

    public func open(method: String, url: String, async: Bool, username: String? = nil, password: String? = nil) {
        _ = jsObject["open"]!(method.jsValue(), url.jsValue(), async.jsValue(), username?.jsValue() ?? .undefined, password?.jsValue() ?? .undefined)
    }

    public func setRequestHeader(name: String, value: String) {
        _ = jsObject["setRequestHeader"]!(name.jsValue(), value.jsValue())
    }

    @ReadWriteAttribute
    public var timeout: UInt32

    @ReadWriteAttribute
    public var withCredentials: Bool

    @ReadonlyAttribute
    public var upload: XMLHttpRequestUpload

    public func send(body: __UNSUPPORTED_UNION__? = nil) {
        _ = jsObject["send"]!(body?.jsValue() ?? .undefined)
    }

    public func abort() {
        _ = jsObject["abort"]!()
    }

    @ReadonlyAttribute
    public var responseURL: String

    @ReadonlyAttribute
    public var status: UInt16

    @ReadonlyAttribute
    public var statusText: String

    public func getResponseHeader(name: String) -> String? {
        jsObject["getResponseHeader"]!(name.jsValue()).fromJSValue()!
    }

    public func getAllResponseHeaders() -> String {
        jsObject["getAllResponseHeaders"]!().fromJSValue()!
    }

    public func overrideMimeType(mime: String) {
        _ = jsObject["overrideMimeType"]!(mime.jsValue())
    }

    @ReadWriteAttribute
    public var responseType: XMLHttpRequestResponseType

    @ReadonlyAttribute
    public var response: JSValue

    @ReadonlyAttribute
    public var responseText: String

    @ReadonlyAttribute
    public var responseXML: Document?
}
