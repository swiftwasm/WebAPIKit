// This file was auto-generated by WebIDLToSwift. DO NOT EDIT!

import JavaScriptEventLoop
import JavaScriptKit

public class BluetoothRemoteGATTCharacteristic: EventTarget, CharacteristicEventHandlers {
    override public class var constructor: JSFunction { JSObject.global[Strings.BluetoothRemoteGATTCharacteristic].function! }

    public required init(unsafelyWrapping jsObject: JSObject) {
        _service = ReadonlyAttribute(jsObject: jsObject, name: Strings.service)
        _uuid = ReadonlyAttribute(jsObject: jsObject, name: Strings.uuid)
        _properties = ReadonlyAttribute(jsObject: jsObject, name: Strings.properties)
        _value = ReadonlyAttribute(jsObject: jsObject, name: Strings.value)
        super.init(unsafelyWrapping: jsObject)
    }

    @ReadonlyAttribute
    public var service: BluetoothRemoteGATTService

    @ReadonlyAttribute
    public var uuid: UUID

    @ReadonlyAttribute
    public var properties: BluetoothCharacteristicProperties

    @ReadonlyAttribute
    public var value: DataView?

    public func getDescriptor(descriptor: BluetoothDescriptorUUID) -> JSPromise {
        jsObject[Strings.getDescriptor]!(descriptor.jsValue()).fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func getDescriptor(descriptor: BluetoothDescriptorUUID) async throws -> BluetoothRemoteGATTDescriptor {
        let _promise: JSPromise = jsObject[Strings.getDescriptor]!(descriptor.jsValue()).fromJSValue()!
        return try await _promise.get().fromJSValue()!
    }

    public func getDescriptors(descriptor: BluetoothDescriptorUUID? = nil) -> JSPromise {
        jsObject[Strings.getDescriptors]!(descriptor?.jsValue() ?? .undefined).fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func getDescriptors(descriptor: BluetoothDescriptorUUID? = nil) async throws -> [BluetoothRemoteGATTDescriptor] {
        let _promise: JSPromise = jsObject[Strings.getDescriptors]!(descriptor?.jsValue() ?? .undefined).fromJSValue()!
        return try await _promise.get().fromJSValue()!
    }

    public func readValue() -> JSPromise {
        jsObject[Strings.readValue]!().fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func readValue() async throws -> DataView {
        let _promise: JSPromise = jsObject[Strings.readValue]!().fromJSValue()!
        return try await _promise.get().fromJSValue()!
    }

    public func writeValue(value: BufferSource) -> JSPromise {
        jsObject[Strings.writeValue]!(value.jsValue()).fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func writeValue(value: BufferSource) async throws {
        let _promise: JSPromise = jsObject[Strings.writeValue]!(value.jsValue()).fromJSValue()!
        _ = try await _promise.get()
    }

    public func writeValueWithResponse(value: BufferSource) -> JSPromise {
        jsObject[Strings.writeValueWithResponse]!(value.jsValue()).fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func writeValueWithResponse(value: BufferSource) async throws {
        let _promise: JSPromise = jsObject[Strings.writeValueWithResponse]!(value.jsValue()).fromJSValue()!
        _ = try await _promise.get()
    }

    public func writeValueWithoutResponse(value: BufferSource) -> JSPromise {
        jsObject[Strings.writeValueWithoutResponse]!(value.jsValue()).fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func writeValueWithoutResponse(value: BufferSource) async throws {
        let _promise: JSPromise = jsObject[Strings.writeValueWithoutResponse]!(value.jsValue()).fromJSValue()!
        _ = try await _promise.get()
    }

    public func startNotifications() -> JSPromise {
        jsObject[Strings.startNotifications]!().fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func startNotifications() async throws -> BluetoothRemoteGATTCharacteristic {
        let _promise: JSPromise = jsObject[Strings.startNotifications]!().fromJSValue()!
        return try await _promise.get().fromJSValue()!
    }

    public func stopNotifications() -> JSPromise {
        jsObject[Strings.stopNotifications]!().fromJSValue()!
    }

    @available(macOS 10.15, iOS 13.0, watchOS 6.0, tvOS 13.0, *)
    public func stopNotifications() async throws -> BluetoothRemoteGATTCharacteristic {
        let _promise: JSPromise = jsObject[Strings.stopNotifications]!().fromJSValue()!
        return try await _promise.get().fromJSValue()!
    }
}
